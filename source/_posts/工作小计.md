---
title: 工作小计
date: 2025-04-16 10:15:03
tags:
---

### 日志输出
日志输出时都使用log.info等，不使用sys.out.println

---



## 业务积累

### 经纬度定位

业务中的地图某个点位置是根据经纬度来定位的。但是不同单位使用的地图不一样，可能是百度地图、高德地图等等，但是我们系统中使用的地图只能是一种，所以放入到我们系统中需要进行一个个地图的适配是比较繁琐的，我们统一在后端将不同的地图类型转换为同一个地图类型，然后输出给前端进行响应返回



### 加密算法

当需要对一张表里的某些字段进行加解密时

先在controller层创建一个加解密接口，参数为：1.表名tabName，2.加解密参数operation(0为需要加密，1为需要解密)

 

**加密流程： **

然后将该operation参数往下传递，如果operation为0，此时有一张加解密关联表（该表记录了需要加解密的字段），通过遍历该关联表，获取到需要加密的字段，通过SM2算法来进行对字段进行加密（使用SM2算法时，需要先连接密码机，创建连接，生成SM2公钥，进行加密，关闭连接），加密后返回该加密的字段，更新表中原来的字段

 

**解密流程：**

和加密流程相似

当operation字段为1，获取关联表中需要加密的字段进行解密（创建连接，连接到密码机后，生成SM2私钥，通过该私钥对字段进行解密，最后关闭连接），返回解密后的数据更新表

